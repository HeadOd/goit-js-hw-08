{"version":3,"sources":["js/03-feedback.js"],"names":["ref","form","document","querySelector","input","textarea","LOCALSTORAGE_KEY","onFormChange","formApi","email","value","message","localStorage","setItem","JSON","stringify","onFormSubmit","e","preventDefault","console","log","parse","getItem","removeItem","currentTarget","reset","fillingForm","saveMessage","addEventListener","_","throttle"],"mappings":";AAAA,MAAMA,EAAM,CACRC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,SAC9BE,SAAUH,SAASC,cAAc,aAE/BG,EAAmB,sBAOzB,SAASC,IACCC,MAAAA,EAAU,GAChBA,EAAQC,MAAQT,EAAII,MAAMM,MAC1BF,EAAQG,QAAUX,EAAIK,SAASK,MAC/BE,aAAaC,QAAQP,EAAkBQ,KAAKC,UAAUP,IAG1D,SAASQ,EAAaC,GAClBA,EAAEC,iBACFC,QAAQC,IAAIN,KAAKO,MAAMT,aAAaU,QAAQhB,KAC5CM,aAAaW,WAAWjB,GACxBW,EAAEO,cAAcC,QAGpB,SAASC,IAGDC,GAFgBf,aAAaU,QAAQhB,GAExB,CACP,MAAA,MAAEG,EAAF,QAASE,GAAYG,KAAKO,MAAMT,aAAaU,QAAQhB,IAC3DN,EAAII,MAAMM,MAAQD,EAClBT,EAAIK,SAASK,MAAQC,GAzB7BX,EAAIC,KAAK2B,iBAAiB,QAASC,EAAEC,SAASvB,EAAc,MAC5DP,EAAIC,KAAK2B,iBAAiB,SAAUZ,GAEpCU","file":"03-feedback.6487155b.js","sourceRoot":"../src","sourcesContent":["const ref = {\n    form: document.querySelector('.feedback-form'),\n    input: document.querySelector('input'),\n    textarea: document.querySelector('textarea'),\n};\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\n\nref.form.addEventListener('input', _.throttle(onFormChange, 500));\nref.form.addEventListener('submit', onFormSubmit);\n\nfillingForm()\n\nfunction onFormChange() {\n    const formApi = {};\n    formApi.email = ref.input.value;\n    formApi.message = ref.textarea.value;\n    localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formApi));\n};\n\nfunction onFormSubmit(e) {\n    e.preventDefault();\n    console.log(JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY)));\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n    e.currentTarget.reset();\n};\n\nfunction fillingForm() {\n    const saveMessage = localStorage.getItem(LOCALSTORAGE_KEY);\n    \n    if (saveMessage) {\n        const { email, message } = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n        ref.input.value = email;\n        ref.textarea.value = message;\n    }\n};"]}